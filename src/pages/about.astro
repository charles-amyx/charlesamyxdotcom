---
import Layout from "../layouts/Layout.astro";
import Card from "../components/Card.astro";
import { imageMap } from "../lib/images";
import { getCollection } from "astro:content";

const sideProjects = await getCollection("side-projects", ({ data }) => {
  return !data.draft;
});
---

<Layout title="About | Charles E. Amyx, III">
  <section class="mx-auto px-4 pt-12 md:pt-16 lg:pt-24">
    <div class="max-w-3xl mx-auto">
      <h1 class="text-3xl font-semibold mb-8">About Me</h1>

      <div
        class="prose prose-p:text-text/90 prose-headings:text-text prose-lg mb-12"
      >
        <p>
          I'm a developer and designer with over 15 years of experience in
          higher education and corporate sectors. Based in Ann Arbor, Michigan,
          I specialize in creating engaging and user-friendly web experiences
          using modern technologies.
        </p>

        <p>
          Throughout my career, I've focused on building accessible, performant,
          and user-friendly web applications. I'm passionate about creating
          inclusive digital experiences that work for everyone.
        </p>

        <p>
          When I'm not working, I enjoy spending time with my family, reading,
          painting, <a
            href="https://soundcloud.com/user-585057580"
            target="_blank"
            rel="noopener noreferrer">playing music</a
          >, and <a
            href="https://www.flickr.com/photos/vanishing-dew/"
            target="_blank"
            rel="noopener noreferrer">photography</a
          >.
        </p>
      </div>

      <div class="flex flex-col space-y-4 mb-12">
        <a
          href="https://www.linkedin.com/in/charbot/"
          class="hover:text-primary text-accent transition-colors"
          target="_blank"
          rel="noopener noreferrer"
        >
          LinkedIn →
        </a>
        <a
          href="https://github.com/charles-amyx"
          class="text-accent hover:text-primary transition-colors"
          target="_blank"
          rel="noopener noreferrer"
        >
          GitHub →
        </a>
      </div>
    </div>

    <div class="mx-auto max-w-3xl">
      <div
        class="flex flex-col space-y-4 mb-12 prose prose-p:text-text/90 prose-headings:text-text prose-lg"
      >
        <h2 class="text-2xl font-semibold mb-4">Side Projects</h2>
        <p>
          Here are a couple of active projects that I like to tinker with in my
          spare time:
        </p>
        <ul class="grid grid-cols-1 md:grid-cols-2 gap-8 list-none pl-0">
          {
            sideProjects.map((project, index) => {
              const imageModule = imageMap[project.data.image];
              if (!imageModule) return null;
              return (
                <li>
                  <Card
                    href={project.data.href}
                    title={project.data.title}
                    image={imageModule}
                    type={project.data.type}
                    loading={index < 4 ? "eager" : "lazy"}
                    isSideProject={true}
                    slug={project.slug}
                  />
                </li>
              );
            })
          }
        </ul>
      </div>
    </div>
  </section>
</Layout>
