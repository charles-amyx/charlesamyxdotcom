$transition-easing: cubic-bezier(0.77, 0, 0.175, 1);
$transition-length: 0.5s;

.mobile-nav-toggle {
  .mobile-nav-icon-line {
    @apply bg-white;
    height: 2px;
  }

  &.menu-toggle-change {
    .mobile-nav-icon-line {
      &:nth-child(1) {
        @apply bg-red-400;
      }

      &:nth-child(2) {
        @apply bg-red-500;
      }

      &:nth-child(3) {
        @apply bg-red-600;
      }
    }
    .mobile-nav-label {
      @apply text-red-500;
    }
  }

  &.menu-toggle-active {
    .mobile-nav-icon-line {
      @apply m-0 bg-red-700;

      &:nth-child(1) {
        transform: rotate(45deg) translateY(3px);
      }

      &:nth-child(2) {
        @apply opacity-0;
      }

      &:nth-child(3) {
        transform: rotate(-45deg) translateY(-3px);
      }
    }
  }
}

.mobile-nav {
  background-color: rgba($color: #131416, $alpha: 0.65);
  backdrop-filter: blur(8px);
  transform: translate3d(-100%, 0, 0);
  transition: transform $transition-length $transition-easing;
  transition-delay: 0.1s;
  will-change: transform;

  &.menu-visible {
    transform: translate3d(0, 0, 0);

    .item {
      @apply opacity-100;
      transform: translate3d(0, 0, 0);
    }
  }

  .item {
    transition: opacity 0.5s ease, transform $transition-length $transition-easing;
    transform: translate3d(-50%, 0, 0);
    transition-delay: $transition-length;

    @for $i from 0 through 100 {
      &:nth-child(#{$i}) {
        transition-delay: $transition-length * $i / 8 + 0.5;
      }
    }
  }
}
