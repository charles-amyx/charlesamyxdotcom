---
import { Image } from "astro:assets";
import type { ImageMetadata } from "astro";

interface Props {
  href: string;
  title: string;
  image: ImageMetadata;
  type: string;
  loading?: "eager" | "lazy";
}

const { href, title, image, type, loading = "lazy" } = Astro.props;
---

<div class="card group">
  <a href={href} class="card-link">
    <div class="card-image-container">
      <div class="frame">
        <Image
          src={image}
          alt={title}
          class="card-image"
          loading={loading}
          decoding={loading === "eager" ? "sync" : "async"}
          fetchpriority={loading === "eager" ? "high" : "auto"}
        />
      </div>
    </div>
    <h2 class="card-title">{title}</h2>
    <p class="card-type">{type}</p>
  </a>
</div>
